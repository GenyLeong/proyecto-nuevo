$(document).ready(function(){"use strict";var altura=window.innerHeight;var intro_altura=document.getElementById('intro')
intro_altura.style.height=altura+'px';$('.smooth').click(function(){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var target=$(this.hash);target=target.length?target:$('[name='+this.hash.slice(1)+']');if(target.length){$('html, body').animate({scrollTop:target.offset().top},1100);return false;}}});mapboxgl.accessToken='pk.eyJ1IjoiZ2VueWxlb25nIiwiYSI6ImNpcXZjMTZycDAwMGpma204YnVsenN6NzAifQ.tl0wa_5p0AzPOE74SRXvUw';var flying=false;var start=[-76.663,-10.279];var end=[-76.9798,-6.0398];var end_church=[-76.98519,-6.04579]
var end_cathedral=[-76.97423,-6.03400]
var map=new mapboxgl.Map({container:'map',style:'mapbox://styles/genyleong/cj9sq2v6m29cr2rmyzxd9abqa',center:start,zoom:5});map.on('load',function(){map.on('moveend',function(e){if(flying){var tooltip=new mapboxgl.Popup().setLngLat([-76.98513,-6.04578]).setHTML('<p style="color:#000000">Seminario Menor Juan Pablo II (lugar de los hechos).</p>').addTo(map);var tooltip=new mapboxgl.Popup().setLngLat([-76.97418,-6.03400]).setHTML('<p style="color:#000000">Catedral de Moyobamba: aqu√≠ reside el sacerdote acusado.</p>').addTo(map);map.fire('flyend');}});map.on('flystart',function(){flying=true;});map.on('flyend',function(){flying=false;});var el=document.createElement('div');el.id='marker';var el_1=document.createElement('div');el_1.id='marker_1';new mapboxgl.Marker(el,{}).setLngLat(end_church).addTo(map);new mapboxgl.Marker(el_1,{}).setLngLat(end_cathedral).addTo(map);var isAtStart=true;$('#fly').click(function(){$('#map').css({zIndex:0,opacity:1,transition:"opacity .7s ease-in"});var target=isAtStart?end:start;isAtStart=!isAtStart;map.flyTo({center:end,zoom:14,bearing:0,speed:0.2,curve:4,})})
map.fire('flystart');})
$('#regresar').click(function(){$('#map').css({opacity:0,zIndex:-9999999999998})})
var controller=new ScrollMagic.Controller();var var_1,var_2,var_3,var_4,var_5,scene_1,scene_2,scene_3,scene_4,scene_5;var_1=TweenLite.to("#intro-text",.1,{transition:"background-color 1000ms",delay:.5,color:"#ffffff"})
scene_1=new ScrollMagic.Scene({triggerElement:'#intro-text',triggerHook:0.7}).setTween(var_1).addTo(controller)
scene_1.on("progress",function(event){var_1=TweenLite.to("#intro-text",.2,{transition:"background-color 1000ms",delay:.5})}).setTween(var_1).addTo(controller)
var_2=TweenLite.to("#case1-text",.3,{transition:"background-color 2000ms",delay:.5,color:"#ffffff"})
scene_2=new ScrollMagic.Scene({triggerElement:'#case1-text',triggerHook:0.7}).setTween(var_2).addTo(controller);scene_2.on("progress",function(event){var_2=TweenLite.to("#case1-text",.2,{transition:"background-color 1000ms",delay:.5,css:{opacity:1,position:"relative",top:"0rem"}})}).setTween(var_2).addTo(controller)
var_3=TweenLite.to("#case2-text",.3,{transition:"background-color 2000ms",delay:.5,color:"#ffffff"})
scene_3=new ScrollMagic.Scene({triggerElement:'#case2-text-hr',triggerHook:0.7}).setTween(var_3).addTo(controller);scene_3.on("progress",function(event){var_3=TweenLite.to("#case2-text",.2,{transition:"background-color 1000ms",delay:.5,css:{opacity:1,position:"relative",top:"1rem"}})}).setTween(var_3).addTo(controller)
var_4=TweenLite.to("#case3-text",.3,{transition:"background-color 2000ms",delay:.5,color:"#ffffff"})
scene_4=new ScrollMagic.Scene({triggerElement:'#case3-text-hr',triggerHook:0.7}).setTween(var_4).addTo(controller);scene_4.on("progress",function(event){var_4=TweenLite.to("#case3-text",.2,{transition:"background-color 1000ms",delay:.5,css:{opacity:1,position:"relative",top:"2rem"}})}).setTween(var_4).addTo(controller)
var_5=TweenLite.to("#fiscal-text",.3,{transition:"background-color 2000ms",delay:.5,color:"#ffffff"})
scene_5=new ScrollMagic.Scene({triggerElement:'#fiscal-text-hr',triggerHook:0.7}).setTween(var_5).addTo(controller);scene_5.on("progress",function(event){var_5=TweenLite.to("#fiscal-text",.2,{transition:"background-color 1000ms",delay:.5,css:{opacity:1,position:"relative",top:"2rem"}})}).setTween(var_5).addTo(controller)})
$(window).resize(function(){var altura=window.innerHeight;var intro_altura=document.getElementById('intro')
intro_altura.style.height=altura+'px';console.log('resize fondo')});
